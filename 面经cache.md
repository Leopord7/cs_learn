## 分布式CAP

一致性，可用性，分区容错性

## 微服务超时返回



## 分库分表细节

用什么做分库依据



## 三种分布式锁实现细节

### 数据库

- insert实现
- select for update 宕机自动释放

### redis



### Zookeeper

顺序结点生成

## 索引 联合索引再加索引(a, b) b



## 查询速度慢



## 线程异步返回的值



## 幂等

一个操作使用相同的参数多次执行获得的是相同的结果

## UUID作主键

可以，但有以下缺点

- 空间占用增大
- 生成无序，建立索引树的复杂度较高

## binlog



## 缓存穿透 击穿 雪崩

### 穿透

- 大量无效key落到数据库
- 解决方法
	- 增加key的校验
	- 缓存中增加该无效key，设置失效时间
	- 布隆过滤器
		- 说不在一定不在，没有对应的hash值
		- 说在可能不在，因为可能落到同一个哈希值，哈希碰撞

### 击穿/雪崩

- 缓存中数据大量过期，数据库并发增大
- 解决方法
	- 热点数据永不过期
	- redis的相关请求进行限流

## 进程线程切换

后者在同一线程时，除了CPU上下文，并不涉及虚拟地址空间的切换

## Redis主从同步



## TCP三握 不ACK



## 慢SQL



## Hash冲突解决



## 内存泄漏查看方法





